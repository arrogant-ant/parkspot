(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-515a24cc"],{"31a8":function(t,e,a){},"6baa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-bg"},[a("div",{staticClass:"bg-decor"}),a("TemplatePaymentGateway",{attrs:{bookingDetails:t.bookingDetails,paymentMode:t.paymentMode,status:t.status,error:t.error,success:t.success,pending:t.pending,displayMsg:t.displayMsg,displayMsgContent:t.displayMsgContent}})],1)},s=[],o=(a("99af"),a("d3b7"),a("5530")),r=(a("96cf"),a("1da1")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Wrapper",[this.status?t._e():a("MoleculePaymentCard",{attrs:{bookingDetails:t.bookingDetails,paymentMode:t.paymentMode}})],1)},c=[],p=a("c483"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payment-card"},[a("div",{staticClass:"mb-6"},[a("div",{staticClass:"mb-4"},[a("AtomParagraph",[a("span",{staticClass:"card-grp"},[a("span",[a("strong",[t._v(" Name: ")])]),a("span",[a("strong",[t._v(t._s(t.bookingDetails.name))])])])]),a("AtomParagraph",[a("span",{staticClass:"card-grp"},[a("span",[a("strong",[t._v(" Due Date: ")])]),a("span",[a("strong",[t._v(t._s(t.bookingDetails.dueDate))])])])]),a("AtomParagraph",[a("span",{staticClass:"card-grp"},[a("span",[a("strong",[t._v(" Amount: ")])]),a("span",[a("strong",{staticClass:"card-amt"},[t._v(" "+t._s(t.bookingDetails.amount)+"/- ")])])])])],1),a("div",{staticClass:"card-btn"},[a("a",{attrs:{href:t.paymentMode.PaymentLink}},[a("AtomButton",[t._v(" Pay Now ")])],1)])]),a("AtomParagraph",{attrs:{variation:"small"}},[a("strong",[t._v("Note:")]),t._v(" Bill description: Rent : "+t._s(t.bookingDetails.baseAmount)+" , Discount : "+t._s(t.bookingDetails.discount)+", Convenience Fee : "+t._s(t.bookingDetails.convenienceFee)+" ")])],1)},l=[],m=a("8d8b"),d=a("02cf"),g={name:"MoleculePaymentCard",components:{AtomParagraph:m["a"],AtomButton:d["a"]},props:{bookingDetails:{type:Object},paymentMode:{type:Object}}},y=g,h=(a("be25"),a("2877")),b=Object(h["a"])(y,u,l,!1,null,"7819d0a8",null),v=b.exports,f={name:"TemplatePaymentGateway",components:{Wrapper:p["a"],MoleculePaymentCard:v},props:{bookingDetails:{type:Object},paymentMode:{type:Object},status:Boolean,error:Boolean,success:Boolean,pending:Boolean,displayMsg:Boolean,displayMsgContent:String}},k=f,D=Object(h["a"])(k,i,c,!1,null,null,null),M=D.exports,_={name:"PagePaymentGateway",components:{TemplatePaymentGateway:M},data:function(){return{bookingDetails:{},paymentMode:{},status:!1,error:!1,success:!1,pending:!1,displayMsg:!1,displayMsgContent:""}},mounted:function(){var t=/status|order_id/,e=/payment|validate|p|h/;t.test(this.$route.params.pathMatch)?(this.status=!this.status,this.getStatus()):e.test(this.$route.params.pathMatch)&&this.getBookingDetails()},methods:{getBookingDetails:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.query.p,n=t.$route.query.h,e.prev=2,e.next=5,fetch("https://maya.parkspot.in/payment/validate?p=".concat(a,"&h=").concat(n),{headers:{"Content-Type":"application/json",flavour:"this.flavour"}});case 5:if(s=e.sent,s.ok){e.next=10;break}throw new Error(s);case 10:return e.next=12,s.json();case 12:r=e.sent,Object.prototype.hasOwnProperty.call(r,"ErrorCode")?(t.status=!t.status,t.displayMsg=!t.displayMsg,t.displayMsgContent=r.DisplayMsg):(t.bookingDetails={name:r.BookingInfo.Name,dueDate:r.DueDate,amount:r.PaymentInfo.Amount,discount:r.PaymentInfo.Discount,convenienceFee:r.PaymentInfo.ConvenienceFee,baseAmount:r.PaymentInfo.BaseAmount},t.paymentMode=Object(o["a"])({},r.Payment));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](2),t.status=!t.status,t.getStatus();case 20:case"end":return e.stop()}}),e,null,[[2,16]])})))()},getStatus:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.query.order_id,e.next=3,fetch("https://maya.parkspot.in/payment/status?order_id=".concat(a),{headers:{"Content-Type":"application/json",flavour:"this.flavour"}});case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,"PAID"===s?t.$router.push({name:"thankYou",params:{msg:"You have paid the amount."}}):"ACTIVE"===s?t.$router.push({name:"error",params:{msg:"Your order is still pending!"}}):t.$router.push({name:"error"});case 8:case"end":return e.stop()}}),e)})))()}}},C=_,P=Object(h["a"])(C,n,s,!1,null,"572c5f5b",null);e["default"]=P.exports},be25:function(t,e,a){"use strict";var n=a("31a8"),s=a.n(n);s.a}}]);